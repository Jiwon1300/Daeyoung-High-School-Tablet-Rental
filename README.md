
# 대영고등학교 태블릿 대여 시스템 구축

## 태블릿 대여 화면
![태블릿 대여 화면](https://cdn.discordapp.com/attachments/1072175197437837442/1122363612007239781/2023-06-25_12.11.48.png)

## 시스템 설명
대영고등학교에서 학생들이 자유롭게 태블릿을 대여할 수 있도록 하는 목적을 두고 시스템을 구축하였습니다.

### 시스템 구축을 위한 사용언어
시스템 구축에는 다음과 같은 언어와 프레임워크가 사용되었습니다.

- 자바스크립트 (프론트엔드)
- 자바 (안드로이드 태블릿을 제어하기 위함)
- 파이썬 (라즈베리파이를 통해서 대여함 제어)
- express.js (백엔드)
- vite
- vite-express
- socket.io
- Vue.js (vue router...)
- NaiveUI (Vue.js의 디자인을 도와주는..)

### 태블릿 제어 해결방안
1. 안드로이드에서 제공하는 Device Admin을 통해서 화면이 꺼지고 잠금이 시작되면, 아무 동작도 못하도록(Disabled Keyguard) 하였지만, 안드로이드 11 이후 보안정책으로 인해 실패
2. 기존의 유해앱 제한하는 방식으로 접근성 권한을 통해서 잠금 후 어떤 앱을 실행하면 홈화면으로 이동 -> 멀티태스킹 모드에서는 작동하지 않음, 실패
3. 태블릿 화면에 오버레이 화면을 띄우고 접근성 권한으로 설정으로 이동하지 못하도록 하여 잠금 성공

### 웹과 안드로이드와 물리적 장치 연결 해결방안
- 웹과 안드로이드는 구글의 Firebase 서비스 중 Messaging을 사용하여 잠금을 웹에서 요청하면 안드로이드에서 수신하여 잠금하는 방식
- 웹과 물리적 장치는 웹에서 Socket.io로 요청하고 마그네틱 도어 센서가 보관함의 문이 닫혔는지 파악하여 Socket.io를 통해서 전달하는 방식

## 실제 적용 모습
추후 공개
